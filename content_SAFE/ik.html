<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
              simulateur indemnitÃ©s ki 2026 â€“ Simulateur | LesCalculateurs</title>
    <meta name="description" content="
              simulateur indemnitÃ©s ki 2026 â€“ Simulateur | LesCalculateurs. Outil gratuit pour estimer votre situation. RÃ©sultat immÃ©diat.">
    <meta
      name="keywords"
      content="indemnitÃ©s kilomÃ©triques (IK) 2026, barÃ¨me IK 2025, calcul indemnitÃ©s kilomÃ©triques, dÃ©duction fiscale km, frais rÃ©els professionnels, barÃ¨me urssaf indemnitÃ©s, calcul trajet domicile travail, remboursement km employeur, auto-entrepreneur frais dÃ©placement, calcul ik 5cv 7cv, indemnitÃ© kilomÃ©trique voiture Ã©lectrique, frais professionnels dÃ©ductibles 2026, simulation frais rÃ©els vs abattement 10%, barÃ¨me fiscal automobile, trajet professionnel dÃ©duction impÃ´ts"
    />
    <link rel="canonical" href="https://www.lescalculateurs.fr/pages/ik" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Accueil",
            "item": "https://www.lescalculateurs.fr/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "IndemnitÃ©s kilomÃ©triques",
            "item": "https://www.lescalculateurs.fr/pages/ik"
          }
        ]
      }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "IndemnitÃ©s kilomÃ©triques",
        "url": "https://www.lescalculateurs.fr/pages/ik",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Accueil",
              "item": "https://www.lescalculateurs.fr/"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "IndemnitÃ©s kilomÃ©triques",
              "item": "https://www.lescalculateurs.fr/pages/ik"
            }
          ]
        }
      }
    </script>
    <meta property="og:url" content="https://www.lescalculateurs.fr/pages/ik" />
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="IndemnitÃ©s KilomÃ©triques â€” Calcul automatique (dernier barÃ¨me connu)"
    />
    <meta
      property="og:description"
      content="Calculez vos indemnitÃ©s kilomÃ©triques en 10 secondes. Dernier barÃ¨me connu (auto/moto), simulation gratuite."
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="IndemnitÃ©s KilomÃ©triques â€” Calcul automatique"
    />
    <meta
      name="twitter:description"
      content="Dernier barÃ¨me connu. Simulation gratuite auto/moto en 10 secondes."
    />

    <!-- JSON-LD Calculator Schema -->
    <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Calculator",
  "name": "Calculateur IndemnitÃ©s KilomÃ©triques",
  "description": "Calculez votre dÃ©duction d'indemnitÃ©s kilomÃ©triques (dernier barÃ¨me connu) - dÃ©ductible du revenu imposable",
  "url": "https://www.lescalculateurs.fr/pages/ik",
  "applicationCategory": "FinanceApplication",
  "screenshot": "https://www.lescalculateurs.fr/pages/ik",
  "isBasedOn": [
    "https://www.lescalculateurs.fr/pages/methodologie",
    "https://www.lescalculateurs.fr/pages/sources"
  ],
  "citation": [
    {
      "@type": "CreativeWork",
      "name": "Direction GÃ©nÃ©rale des Finances Publiques - BarÃ¨me IK",
      "url": "https://www.impots.gouv.fr"
    },
    {
      "@type": "CreativeWork",
      "name": "Service-public.fr â€“ IndemnitÃ©s kilomÃ©triques",
      "url": "https://www.service-public.fr/particuliers/vosdroits/F1410"
    },
    {
      "@type": "CreativeWork",
      "name": "Code GÃ©nÃ©ral des ImpÃ´ts - Article 83",
      "url": "https://www.legifrance.gouv.fr"
    }
  ]
}</script>

    <!-- Sources Meta Tag for AI -->
    <meta
      name="source"
      content="impots.gouv.fr, service-public.fr, legifrance.gouv.fr"
    />
    <!-- Schema.org SoftwareApplication -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Simulateur IFI 2026",
        "operatingSystem": "Web",
        "applicationCategory": "FinanceApplication",
        "description": "Simulateur de l'impÃ´t sur la fortune immobiliÃ¨re selon le patrimoine.",
        "url": "https://www.lescalculateurs.fr/pages/isf-ifi",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "EUR"
        }
      }
    </script>
    <script defer src="/third-party-loader.js"></script>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "OÃ¹ trouver le simulateur officiel pour un calcul prÃ©cis ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Pour un calcul prÃ©cis et personnalisÃ©, utilisez le simulateur officiel sur le site de la CAF (caf.fr) ou notre outil de simulation intÃ©grÃ©. Ces simulateurs prennent en compte votre situation exacte."
      }
    },
    {
      "@type": "Question",
      "name": "Quelle diffÃ©rence entre une estimation et un calcul officiel ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Une estimation vous donne un ordre de grandeur basÃ© sur des situations types. Le calcul officiel utilise vos donnÃ©es personnelles exactes (revenus, composition familiale, localisation) pour un rÃ©sultat prÃ©cis."
      }
    },
    {
      "@type": "Question",
      "name": "Les montants prÃ©sentÃ©s sont-ils Ã  jour pour 2026 ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Les montants sont rÃ©guliÃ¨rement mis Ã  jour selon les barÃ¨mes officiels 2026. Cependant, seul le simulateur officiel garantit le montant exact de votre droit."
      }
    },
    {
      "@type": "Question",
      "name": "Comment interprÃ©ter les rÃ©sultats de simulation ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Les rÃ©sultats sont indicatifs et basÃ©s sur les barÃ¨mes en vigueur. Pour une dÃ©cision administrative, consultez les services compÃ©tents ou utilisez le simulateur officiel."
      }
    }
  ]
}
</script>
</head>
  <body class="bg-gray-50">
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-TPFZCGX5"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header class="bg-white shadow-sm">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center py-4">
          <a
            href="../index.html"
            class="text-primary-600 hover:text-primary-700 font-medium"
            >â† Retour</a
          >
          <div class="text-center px-4">
            <h1>
              Simulateur indemnitÃ©s kilomÃ©triques 2026 : estimation selon le barÃ¨me fiscal
             2026</h1>
            <p class="text-sm text-gray-600 mt-1">
              Estimez vos indemnitÃ©s kilomÃ©triques 2026 selon vos kilomÃ¨tres
              annuels et votre vÃ©hicule (simulation indicative basÃ©e sur le
              barÃ¨me fiscal).
            </p>
          </div>
          <div></div>
        </div>

      <!-- ...existing code... -->
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="max-w-4xl mx-auto">
        <div class="mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
          <p class="text-sm text-gray-800 m-0">
            Les calculs reposent sur le dernier barÃ¨me kilomÃ©trique publiÃ©. Ils
            constituent une estimation indicative et non contractuelle.
          </p>
        </div>

        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg mb-8">
          <p class="text-blue-800 text-sm mb-2">
            <strong>ðŸ“Œ Simulation Ã  titre indicatif :</strong> Le barÃ¨me IK est
            utilisÃ© pour estimer des frais de dÃ©placement selon des rÃ¨gles
            fiscales. Votre situation (trajets, justificatifs, frais rÃ©els) et
            la rÃ©glementation applicable dÃ©terminent le montant retenu.
          </p>
          <p class="text-blue-800 text-sm m-0">
            RÃ©sultat affichÃ© : indemnitÃ©s annuelles estimÃ©es et moyenne par km.
          </p>
        </div>
        <button
          data-scroll-target="#ik-calculator"
          data-scroll-focus="input, select, textarea"
          class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors shadow-md mx-auto block"
          style="margin-bottom: 2.5rem;"
        >
          ðŸŸ¢ Lancer la simulation
        </button>
      </div>

      <section class="max-w-4xl mx-auto mb-8">
        <div class="bg-white border border-gray-200 rounded-xl p-6">
          <h2 class="text-2xl font-bold text-gray-900 mb-4">ðŸ“Œ RÃ©sumÃ© rapide</h2>
          <div class="space-y-2 text-gray-700 text-sm">
            <p>ðŸ›ï¸ <strong>Source</strong> : impots.gouv.fr</p>
<div class="sticky-ymyl">Cette page donne des ordres de grandeur. Pour un rÃ©sultat fiable, utilisez le simulateur officiel.</div>
            <p>ðŸ“ <strong>Logique</strong> : calcul basÃ© sur kilomÃ¨tres annuels et vÃ©hicule</p>
            <p>ðŸ“… <strong>AnnÃ©e</strong> : paramÃ¨tres 2026</p>
            <p>âš ï¸ <strong>Important</strong> : rÃ©sultat non contractuel</p>
          </div>
        </div>
      </section>

      <section class="max-w-4xl mx-auto mb-8">
        <div class="bg-indigo-50 border border-indigo-100 rounded-xl p-6">
          <h2 class="text-2xl font-bold text-gray-900 mb-4">ðŸ§¾ Ce que permet ce simulateur</h2>
          <ul class="list-disc list-inside space-y-2 text-gray-700">
            <li>Obtenir un <strong>montant indicatif</strong> dâ€™indemnitÃ©s kilomÃ©triques</li>
            <li>Comprendre lâ€™impact de vos paramÃ¨tres (km, vÃ©hicule, puissance/cylindrÃ©e)</li>
            <li>Comparer plusieurs scÃ©narios</li>
            <li>Croiser avec dâ€™autres outils (impÃ´t, salaire, etc.)</li>
          </ul>
        </div>
      </section>

      <section class="max-w-4xl mx-auto mb-8">
        <div class="bg-white border border-gray-200 rounded-xl p-6">
          <h2 class="text-2xl font-bold text-gray-900 mb-4">ðŸ§­ Guide rapide (avant de calculer)</h2>

          <h3 class="text-lg font-semibold text-gray-900 mb-2">ðŸ”¹ Comment utiliser ce simulateur</h3>
          <ol class="list-decimal list-inside space-y-2 text-gray-700 text-sm mb-6">
            <li>Renseignez les informations demandÃ©es</li>
            <li>Indiquez vos montants ou paramÃ¨tres principaux</li>
            <li>Lancez la simulation</li>
            <li>Consultez le rÃ©sultat estimatif</li>
          </ol>

          <h3 class="text-lg font-semibold text-gray-900 mb-2">ðŸ”¹ Comment lire les rÃ©sultats</h3>
          <ul class="list-disc list-inside space-y-2 text-gray-700 text-sm mb-6">
            <li><strong>Montant estimÃ©</strong> : ordre de grandeur</li>
            <li><strong>DÃ©tail</strong> : paramÃ¨tres pris en compte</li>
            <li><strong>Avertissement</strong> : dÃ©pend de votre situation rÃ©elle</li>
          </ul>

          <h3 class="text-lg font-semibold text-gray-900 mb-2">ðŸ”¹ Pourquoi le rÃ©sultat peut Ãªtre nul / faible / diffÃ©rent</h3>
          <ul class="list-disc list-inside space-y-2 text-gray-700 text-sm">
            <li>DÃ©passement de seuils rÃ©glementaires</li>
            <li>ParamÃ¨tres non pris en compte dans une simulation simplifiÃ©e</li>
            <li>RÃ¨gles spÃ©cifiques propres Ã  votre dossier</li>
          </ul>
        </div>
      </section>

      <section class="max-w-4xl mx-auto mb-8">
        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-lg p-6">
          <div class="flex flex-col gap-4 sm:flex-row sm:items-start sm:gap-6">
            <div class="text-4xl leading-none">ðŸ“Š</div>
            <div class="flex-1">
              <h2 class="text-xl font-bold text-gray-900 mb-2">
                Comparez plusieurs trajets ou vÃ©hicules (facultatif)
              </h2>
              <p class="text-gray-700 mb-4">
                Faites un premier calcul, puis comparez des variantes (km, puissance, frÃ©quence)
                pour visualiser lâ€™impact sur vos indemnitÃ©s annuelles.
              </p>
              <div class="grid sm:grid-cols-3 gap-4">
                <div class="bg-white rounded-lg p-4 shadow-sm">
                  <h3 class="font-bold text-gray-900 mb-1">ðŸ”„ Multiâ€‘scÃ©narios</h3>
                  <p class="text-sm text-gray-600">
                    Comparez jusquâ€™Ã  6 scÃ©narios cÃ´te Ã  cÃ´te.
                  </p>
                </div>
                <div class="bg-white rounded-lg p-4 shadow-sm">
                  <h3 class="font-bold text-gray-900 mb-1">ðŸŽ¯ ScÃ©narios typiques</h3>
                  <p class="text-sm text-gray-600">
                    â€œTrajet plus longâ€, â€œautre vÃ©hiculeâ€, â€œautre frÃ©quenceâ€.
                  </p>
                </div>
                <div class="bg-white rounded-lg p-4 shadow-sm">
                  <h3 class="font-bold text-gray-900 mb-1">ðŸ’¡ Lecture simple</h3>
                  <p class="text-sm text-gray-600">
                    IndemnitÃ©s annuelles estimÃ©es et moyenne par km.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <div id="ik-calculator"></div>

      <div class="mt-6 flex justify-center gap-3">
        <button
          id="ik-add-to-compare"
          class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold shadow-md transition-colors"
        >
          âž• Ajouter Ã  la comparaison
        </button>
        <button
          id="ik-reset-compare"
          class="px-6 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 font-semibold shadow-md transition-colors hidden"
        >
          ðŸ”„ RÃ©initialiser
        </button>
      </div>

      <div id="ik-comparaison" class="hidden mt-8"></div>

      <section class="mb-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            ðŸ§® IndemnitÃ©s kilomÃ©triques â€” dernier barÃ¨me connu auto/moto
          </h2>

          <!-- AI Section: Question explicite -->
          <section class="ai-intro mb-6">
            <h2 class="text-xl font-bold text-gray-900 mb-2">
              ðŸ§® IndemnitÃ©s kilomÃ©triques 2026 â€” barÃ¨me auto/moto, dÃ©claration
            </h2>
            <p class="ai-response text-gray-700">
              IndemnitÃ© = KilomÃ¨tres Ã— Tarif barÃ©matique (variable selon
              puissance du vÃ©hicule et kilomÃ©trage). Exemple voiture 5 CV :
              0,585â‚¬ jusqu'Ã  5 000 km, 0,415â‚¬ de 5 001â€“20 000 km, 0,36un montant modeste
              au-delÃ . Le barÃ¨me fiscal est reconduit rÃ©guliÃ¨rement; nous appliquons le dernier barÃ¨me connu.
            </p>
          </section>

          <!-- AI Section: RÃ©sumÃ© rapide -->
          <section class="ai-summary mb-6">
            <h3 class="text-lg font-bold text-gray-900 mb-3">
              ðŸ“Œ RÃ©sumÃ© rapide
            </h3>
            <ul class="space-y-2 text-gray-700">
              <li>
                <strong>Source:</strong> Administration fiscale (ImpÃ´ts.gouv.fr)
                dernier barÃ¨me connu
              </li>
              <li>
                <strong>Calcul:</strong> KilomÃ¨tres Ã— Tarif par tranche
                (dÃ©gressif selon km annuels)
              </li>
              <li>
                <strong>ParticularitÃ©:</strong> Taux dÃ©gressif | Voitures 3â€“7 CV
                | Deux-roues jusqu'Ã  750cc | DÃ©ductible fiscalement
              </li>
              <li>
                <strong>Outil:</strong> Simulation gratuite, barÃ¨me rÃ©glementÃ© en vigueur mis Ã 
                jour
              </li>
            </ul>
          </section>

          <div class="prose prose-lg text-gray-600">
            <p>
              Les indemnitÃ©s kilomÃ©triques permettent de dÃ©duire fiscalement les
              frais de dÃ©placement professionnel. Notre calculateur utilise le
              dernier barÃ¨me connu publiÃ© par l'administration fiscale pour
              calculer prÃ©cisÃ©ment vos indemnitÃ©s selon la puissance de votre
              vÃ©hicule et le nombre de kilomÃ¨tres parcourus.
              Que vous soyez salariÃ©, profession libÃ©rale ou dirigeant
              d'entreprise, ces indemnitÃ©s constituent un avantage fiscal non
              nÃ©gligeable. Notre outil calcule automatiquement selon les
              tranches kilomÃ©triques : tarif dÃ©gressif jusqu'Ã  5 000 km, puis de
              5 001 Ã  20 000 km, et au-delÃ  de 20 000 km annuels. Compatible
              voitures et deux-roues.
            </p>
          </div>
        </div>
      </section>

      <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8">
        <div class="mt-12 bg-blue-50 rounded-lg p-6 border border-blue-200">
          <h3 class="font-bold text-blue-900 mb-3">ðŸ“š Sources officielles</h3>
          <ul class="text-sm text-gray-700 space-y-2">
            <li>
              â€¢ Frais professionnels (barÃ¨me kilomÃ©trique â€“ cadre fiscal) :
              <a href="https://www.service-public.fr/particuliers/vosdroits/F1989" target="_blank" rel="noopener" class="text-blue-600 hover:underline">service-public.fr</a>
            </li>
            <li>
              â€¢ BarÃ¨mes kilomÃ©triques (voitures et deuxâ€‘roues) :
              <a href="https://www.service-public.fr/particuliers/actualites/A14686" target="_blank" rel="noopener" class="text-blue-600 hover:underline">service-public.fr â€“ ActualitÃ©s</a>
            </li>
            <li>
              â€¢ Informations et FAQ officielles :
              <a href="https://www.impots.gouv.fr/particulier/questions/lutilisation-du-bareme-kilometrique-est-elle-obligatoire-pour-evaluer-mes" target="_blank" rel="noopener" class="text-blue-600 hover:underline">impots.gouv.fr</a>
            </li>
          </ul>
        </div>
      </section>

      <!-- AI Section: DonnÃ©es utilisÃ©es pour ce calcul -->
      <section class="max-w-4xl mx-auto mb-8">
        <div class="ai-calculation-data">
          <h3 class="text-lg font-bold text-gray-900 mb-4">
            âš™ï¸ DonnÃ©es utilisÃ©es pour ce calcul
          </h3>
          <ul class="space-y-2 text-gray-700 mb-4">
            <li>
              <strong>Dernier barÃ¨me publiÃ© (voitures) :</strong> tarifs par
              puissance fiscale (3â€“7 CV)
            </li>
            <li>
              <strong>Dernier barÃ¨me publiÃ© (deuxâ€‘roues) :</strong> tarifs par
              cylindrÃ©e
              (&lt; 50cc, 50â€“125cc, &gt; 125cc)
            </li>
            <li>
              <strong>Tranches kilomÃ©triques:</strong> Jusqu'Ã  5 000 km | 5
              001â€“20 000 km | &gt; 20 000 km annuels
            </li>
            <li>
              <strong>DÃ©ductibilitÃ© fiscale:</strong> Frais professionnels
              dÃ©ductibles du revenu imposable
            </li>
            <li>
              <strong>RÃ©fÃ©rence:</strong> CGI article 83 (frais rÃ©els) et
              documentation officielle
            </li>
          </ul>
          <p class="text-sm text-gray-600">
            <strong>DerniÃ¨re mise Ã  jour:</strong> janvier 2026 (sources
            officielles)
          </p>
        </div>
      </section>
    </main>

    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8">
      <div class="bg-white border-2 border-gray-200 rounded-lg p-6">
        <h3 class="text-xl font-bold text-gray-900 mb-3">ðŸ”— Voir aussi</h3>
        <p class="text-sm text-gray-600 mb-3">
          Parcours travail/fiscal :
          <a href="/pages/ik.html" class="text-blue-700 hover:underline">IK</a>
          â†’
          <a href="/pages/impot.html" class="text-blue-700 hover:underline">ImpÃ´t</a>
          â†’
          <a href="/pages/salaire.html" class="text-blue-700 hover:underline">Salaire</a>
          â†’
          <a href="/pages/travail.html" class="text-blue-700 hover:underline">Temps</a>
        </p>
        <div class="flex flex-wrap gap-3">
          <a
            href="/pages/impot.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >ImpÃ´t sur le revenu</a
          >
          <a
            href="/pages/salaire.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >Salaire brut/net</a
          >
          <a
            href="/pages/apl.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >APL 2026</a
          >
          <a
            href="/pages/notaire.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >Frais de notaire</a
          >
          <a
            href="/pages/pret.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >MensualitÃ© de prÃªt</a
          >
          <a
            href="/pages/plusvalue.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >Plusâ€‘value immobiliÃ¨re</a
          >
          <a
            href="/pages/charges.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >Charges de copropriÃ©tÃ©</a
          >
          <a
            href="/pages/taxe.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >Taxe fonciÃ¨re</a
          >
          <a
            href="/pages/travail.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >Temps de travail</a
          >
          <a
            href="/pages/blog/frais-notaire-departements.html"
            class="inline-block bg-blue-600 text-white rounded px-4 py-2 text-sm font-semibold shadow hover:bg-blue-700"
            >Tous les dÃ©partements</a
          >
          <a
            href="/pages/blog.html"
            class="inline-block bg-white border border-gray-300 rounded px-3 py-2 text-sm text-blue-700 hover:bg-blue-50"
            >Blog</a
          >
        </div>
      </div>
    </section>

    

    <script type="module" src="../main.ts"></script>
    <script type="module">
      import { CalculatorFrame } from "../components/CalculatorFrame.ts";
      import { formatCurrency } from "../main.ts";
      import { baremes } from "../data/baremes.ts";

      const ikConfig = {
        title: "IndemnitÃ©s kilomÃ©triques 2026 â€” barÃ¨me auto/moto, dÃ©claration",
        description: "Calculez vos indemnitÃ©s selon le barÃ¨me fiscal, avec dÃ©claration simplifiÃ©e.",
        fields: [
          {
            id: "type_vehicule",
            label: "Type de vÃ©hicule",
            type: "select",
            required: true,
            options: [
              { value: "voiture", label: "Voiture" },
              { value: "deux_roues", label: "Deux-roues" },
            ],
          },
          {
            id: "puissance",
            label: "Puissance fiscale (CV)",
            type: "select",
            required: true,
            options: [
              { value: "3CV et moins", label: "3 CV et moins" },
              { value: "4CV", label: "4 CV" },
              { value: "5CV", label: "5 CV" },
              { value: "6CV", label: "6 CV" },
              { value: "7CV et plus", label: "7 CV et plus" },
            ],
          },
          {
            id: "cylindree_moto",
            label: "CylindrÃ©e (deux-roues)",
            type: "select",
            required: false,
            options: [
              { value: "moins_50cc", label: "Moins de 50cc" },
              { value: "50cc_125cc", label: "50cc Ã  125cc" },
              { value: "plus_125cc", label: "Plus de 125cc" },
            ],
          },
          {
            id: "kilometres",
            label: "Nombre de kilomÃ¨tres annuels",
            type: "number",
            required: true,
            placeholder: "15000",
            min: 1,
            step: 1,
          },
        ],
        calculate: (values) => {
          try {
            const typeVehicule = values.type_vehicule;
            const kilometres = Number(values.kilometres);

            if (!typeVehicule) {
              return {
                success: false,
                error: "Veuillez sÃ©lectionner le type de vÃ©hicule.",
              };
            }
            if (!isFinite(kilometres) || kilometres <= 0) {
              return {
                success: false,
                error: "Veuillez saisir un nombre de kilomÃ¨tres valide.",
              };
            }

            let indemniteParKm = 0;
            let total = 0;

            if (typeVehicule === "voiture") {
              const puissance = values.puissance;
              if (!puissance) {
                return {
                  success: false,
                  error: "Veuillez sÃ©lectionner la puissance fiscale (CV).",
                };
              }
              const tableVoiture = baremes.indemnites_kilometriques.voiture.latest || baremes.indemnites_kilometriques.voiture["2024"];
              const baremePuissance = tableVoiture.find((b) => b.puissance === puissance);
              if (!baremePuissance) {
                return {
                  success: false,
                  error: "Puissance non trouvÃ©e dans le barÃ¨me rÃ©glementÃ© en vigueur.",
                };
              }
              if (kilometres <= 5000) {
                total = kilometres * baremePuissance.jusqu_5000;
                indemniteParKm = baremePuissance.jusqu_5000;
              } else if (kilometres <= 20000) {
                total =
                  5000 * baremePuissance.jusqu_5000 +
                  (kilometres - 5000) * baremePuissance.de_5001_20000;
                indemniteParKm = total / kilometres;
              } else {
                total =
                  5000 * baremePuissance.jusqu_5000 +
                  15000 * baremePuissance.de_5001_20000 +
                  (kilometres - 20000) * baremePuissance.au_dela_20000;
                indemniteParKm = total / kilometres;
              }
            } else {
              const cylindree = values.cylindree_moto;
              if (!cylindree) {
                return {
                  success: false,
                  error: "Veuillez sÃ©lectionner la cylindrÃ©e (deux-roues).",
                };
              }
              const ik = baremes.indemnites_kilometriques.deux_roues[cylindree];
              if (!isFinite(ik)) {
                return {
                  success: false,
                  error: "CylindrÃ©e non trouvÃ©e dans le barÃ¨me.",
                };
              }
              indemniteParKm = ik;
              total = kilometres * indemniteParKm;
            }

            return {
              success: true,
              data: {
                total,
                indemniteParKm,
                kilometres,
                typeVehicule,
                puissance: values.puissance,
                cylindree: values.cylindree_moto,
              },
            };
          } catch (error) {
            return {
              success: false,
              error: "Erreur lors du calcul. VÃ©rifiez vos donnÃ©es.",
            };
          }
        },
        formatResult: (result) => {
          const data = result.data;
          return `
          <div class="space-y-6">
            <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
              <h3 class="text-xl font-bold text-gray-900 mb-4">ðŸŽ¯ RÃ©sultat principal</h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                  <p class="text-sm text-gray-600">Distance annuelle</p>
                  <p class="text-2xl font-bold text-blue-700">${data.kilometres.toLocaleString(
                    "fr-FR"
                  )} km</p>
                </div>
                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                  <p class="text-sm text-gray-600">IndemnitÃ©s totales (annuel)</p>
                  <p class="text-2xl font-bold text-green-700">${formatCurrency(
                    data.total
                  )}</p>
                </div>
                <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                  <p class="text-sm text-gray-600">Mensuel (sur 12 mois)</p>
                  <p class="text-2xl font-bold text-purple-700">${formatCurrency(
                    data.total / 12
                  )}</p>
                </div>
              </div>
              <p class="text-sm text-gray-600 mt-3 m-0">
                IndemnitÃ© moyenne par km : <strong>${data.indemniteParKm.toFixed(
                  3
                )} â‚¬</strong>
              </p>
            </div>
            
            <div class="border-t pt-4">
              <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                  <span>Type de vÃ©hicule :</span>
                  <span class="font-medium">${
                    data.typeVehicule === "voiture" ? "Voiture" : "Deux-roues"
                  }</span>
                </div>
                ${
                  data.puissance
                    ? `
                <div class="flex justify-between">
                  <span>Puissance fiscale :</span>
                  <span class="font-medium">${data.puissance}</span>
                </div>
                `
                    : ""
                }
                ${
                  data.cylindree
                    ? `
                <div class="flex justify-between">
                  <span>CylindrÃ©e :</span>
                  <span class="font-medium">${data.cylindree.replace(
                    "_",
                    " "
                  )}</span>
                </div>
                `
                    : ""
                }
              </div>
            </div>

            <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 mt-4">
              <p class="text-sm text-orange-800">
                <strong>âš ï¸ Attention :</strong> BarÃ¨me 2024 (dernier publiÃ©). En l'absence de publication du barÃ¨me 2026, ce simulateur applique le dernier barÃ¨me officiel connu, reconduit par l'administration.
              </p>
            </div>
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4">
              <p class="text-sm text-yellow-900">
                <strong>Important :</strong> Les indemnitÃ©s kilomÃ©triques (IK) ne s'appliquent que si vous optez pour la dÃ©duction des frais rÃ©els. Elles ne sont pas cumulables avec l'abattement forfaitaire de 1environ 0 Ã  1 %.
              </p>
            </div>
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4">
              <p class="text-sm text-blue-800">
                <strong>Ã€ savoir :</strong> Ces indemnitÃ©s sont dÃ©ductibles fiscalement et doivent Ãªtre 
                dÃ©clarÃ©es dans vos frais rÃ©els ou remboursÃ©es par votre employeur.
              </p>
            </div>
          </div>
        `;
        },
        exportCSV: {
          enabled: true,
          filename: "indemnites-kilometriques-estimation.csv",
          getCSVData: (result, values) => {
            const data = result.data;
            return {
              headers: ["ParamÃ¨tre", "Valeur"],
              rows: [
                [
                  "Type de vÃ©hicule",
                  data.typeVehicule === "voiture" ? "Voiture" : "Deux-roues",
                ],
                ["Distance annuelle (km)", data.kilometres],
                ["IndemnitÃ© par km (â‚¬)", data.indemniteParKm.toFixed(3)],
                ["IndemnitÃ©s totales (â‚¬)", data.total],
                ...(data.puissance
                  ? [["Puissance fiscale", data.puissance]]
                  : []),
                ...(data.cylindree
                  ? [["CylindrÃ©e", data.cylindree.replace("_", " ")]]
                  : []),
              ],
            };
          },
        },
      };

      // Masquer/afficher les champs selon le type de vÃ©hicule
      document.addEventListener("DOMContentLoaded", () => {
        setTimeout(() => {
          const typeSelect = document.getElementById("type_vehicule");
          const puissanceDiv = document
            .getElementById("puissance")
            ?.closest("div");
          const cylindreeDiv = document
            .getElementById("cylindree_moto")
            ?.closest("div");

          function toggleFields() {
            const type = typeSelect?.value;
            if (puissanceDiv)
              puissanceDiv.style.display =
                type === "voiture" ? "block" : "none";
            if (cylindreeDiv)
              cylindreeDiv.style.display =
                type === "deux_roues" ? "block" : "none";
          }

          typeSelect?.addEventListener("change", toggleFields);
          toggleFields();
        }, 100);
      });

      new CalculatorFrame("ik-calculator", ikConfig);
    </script>

    <!-- Gestion de la comparaison IK -->
    <script type="module" src="./scripts/ik-script.ts"></script>

    <!-- Auto-initialisation des exports PDF/CSV -->
    <script type="module">
  const __lcLoadAutoExport = () => import("../utils/autoExportInit.js");
  if ("requestIdleCallback" in window) {
    window.requestIdleCallback(__lcLoadAutoExport, { timeout: 4000 });
  } else {
    window.setTimeout(__lcLoadAutoExport, 2000);
  }
</script>

    <footer class="bg-gray-800 text-white py-8 mt-16">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col items-center space-y-4">
          <p class="text-gray-300">
            Â© 2026 Les Calculateurs - IndemnitÃ©s kilomÃ©triques selon barÃ¨mes
            officiels
          </p>
          <div class="flex gap-4 text-sm">
            <a
              href="/pages/methodologie"
              class="text-gray-300 hover:text-white transition-colors"
              >ðŸ“š Notre MÃ©thodologie</a
            >
            <span class="text-gray-500">|</span>
            <a
              href="/pages/sources"
              class="text-gray-300 hover:text-white transition-colors"
              >ðŸ›ï¸ Sources Officielles</a
            >
          </div>
        </div>
      </div>
    </footer>
  <nav class="internal-links" aria-label="Navigation interne"><ul><li><a href="/simulateurs">Tous nos simulateurs</a></li><li><a href="/">Accueil</a></li></ul></nav>
</body>
</html>

